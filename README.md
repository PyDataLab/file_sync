# Сервис синхронизации файлов

## Описание
Данный проект представляет собой сервис, который синхронизирует файлы между локальной папкой на компьютере пользователя и облачным хранилищем. Основные функции включают:

- Отслеживание изменений в локальной папке.
- Загрузку новых или изменённых файлов в облачное хранилище.
- Удаление файлов в облаке при их удалении локально.

## Основные возможности

1. **Связывание локальной папки и папки в облаке:**
   - Параметры синхронизации задаются в конфигурационном файле `config.ini`.
2. **Отслеживание изменений:**
   - При добавлении или изменении файлов в локальной папке изменения синхронизируются с облаком.
   - При удалении файлов локально они также удаляются из облачного хранилища.
3. **Логирование:**
   - Ведётся журнал работы программы, включая информацию о синхронизируемой папке, времени запуска и результатов синхронизации.
4. **Обработка ошибок:**
   - Программа устойчива к сбоям: ошибки доступа к файлам или сбои интернет-соединения логируются, но не прерывают работу.

## Требования

- Python 3.8+
- Установленные библиотеки из `requirements.txt`
- Облачное хранилище с поддержкой Yandex Disk API

## Настройка и использование

### 1. Конфигурация
Все параметры задаются в файле `config.ini`. Пример содержимого:

```ini
[Settings]
local_folder = /path/to/local/folder
cloud_folder = /path/to/cloud/folder
access_token = your_access_token
sync_interval = 60
log_file = /path/to/log_file.log
```

**Описание параметров:**
- `local_folder` — путь к локальной папке для синхронизации.
- `cloud_folder` — имя папки в облачном хранилище.
- `access_token` — токен доступа к облаку.
- `sync_interval` — период синхронизации в секундах.
- `log_file` — путь к файлу журнала.

> **Важно:** Убедитесь, что токен доступа удалён из файла перед публикацией или передачей.

### 2. Установка зависимостей

Для установки необходимых библиотек выполните:
```bash
pip install -r requirements.txt
```

### 3. Запуск программы

Запустите программу командой:
```bash
python main.py
```

Для остановки используйте сочетание клавиш `Ctrl+C`.

## Структура проекта

- `cloud_storage.py` — реализация взаимодействия с облачным хранилищем.
- `utils.py` — вспомогательные функции для работы с файлами и синхронизации.
- `main.py` — основной файл для запуска сервиса.
- `config.ini` — файл конфигурации.
- `requirements.txt` — список зависимостей.
- `pyproject.toml` — настройки линтера.

## Логика работы

1. При запуске:
   - Программа проверяет корректность настроек из `config.ini`.
   - Выполняется первичная синхронизация.
2. В процессе работы:
   - Сканируется локальная папка с заданной периодичностью.
   - Выполняются операции загрузки, обновления и удаления файлов в облаке.
3. Логирование:
   - Все операции записываются в лог-файл с уровнями INFO и ERROR.

## Расширение функционала

Для добавления поддержки других облачных сервисов можно реализовать новые классы с методами:
- `load(path)` — загрузка файла в хранилище.
- `reload(path)` — обновление файла в хранилище.
- `delete(filename)` — удаление файла из хранилища.
- `get_info()` — получение информации о файлах.
